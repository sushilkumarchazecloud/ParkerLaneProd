<apex:page standardController="Opportunity" extensions="sessionIdclass"  
           action="{!ReturnAccessToken}" lightningStylesheets="true" showHeader="false"
           sidebar="false" applyBodyTag="false" applyHtmlTag="false">
    
    <html>
        <head>
            <title>Upload Documents</title>
            <meta charset="UTF-8"/>
            <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
            <title>Parker Lane - Australia's No.1 Rated Finance Service</title>
            <link REL="icon" HREF="{!URLFOR($Resource.faviconNew)}" type="img/x-icon"/>
            <apex:slds />
            <apex:includeLightning />
            
            
        </head>
        <body style="background: #f5f5f5;">
            
            <div id="FlipcardContainer" style="margin:auto; font-size: large;"/>
            <script>
            if(window.location != window.parent.location){
                var redirecturl = window.location;
                window.top.location.href = redirecturl;
            }
            $Lightning.use("c:UploadDocumentApp", function() {
                $Lightning.createComponent("c:UploadDocumentCmp",
                                           { 
                                               recordId :'{!$CurrentPage.parameters.oppId}',
                                               mgRef :'{!$CurrentPage.parameters.MGREF}',
                                               sessionId :'{!accessToken}'
                                           },
                                           "FlipcardContainer",
                                           function(cmp) {});
            });
            </script>
        </body>
    </html>
</apex:page>